{"ast":null,"code":"import React,{useEffect,useState}from'react';import{MovieList}from'components/MovieList/MovieList';import{getMovieById}from'services/getMovies';import{removeFromFavorites}from'store/favorites/favorites.slices/favoritesSlice';// import { getFavorites } from 'store/favorites/favorites.operations/favoriteMoviesStorage';\nimport{useSelectFavoriteMovies}from'store/favorites/favorites.selectors/favoritesSelectors';import{jsx as _jsx}from\"react/jsx-runtime\";const Favorites=()=>{const favoriteMovieIds=useSelectFavoriteMovies();const[favoriteMovies,setFavoriteMovies]=useState([]);useEffect(()=>{const fetchFavoriteMovies=async()=>{// const favoriteIds = getFavorites();\n// const favoriteIds = useSelectFavoriteMovies()\nconst moviePromises=favoriteMovieIds.map(id=>getMovieById(id));const movies=await Promise.all(moviePromises);setFavoriteMovies(movies);};fetchFavoriteMovies();},[favoriteMovieIds]);const handleRemoveFavorite=movieId=>{removeFromFavorites(movieId);setFavoriteMovies(prevFavoriteMovies=>prevFavoriteMovies.filter(prevFavoriteMovieId=>prevFavoriteMovieId!==movieId));};return/*#__PURE__*/_jsx(MovieList,{movies:favoriteMovies,onRemoveFavorite:handleRemoveFavorite});};export default Favorites;","map":{"version":3,"names":["React","useEffect","useState","MovieList","getMovieById","removeFromFavorites","useSelectFavoriteMovies","jsx","_jsx","Favorites","favoriteMovieIds","favoriteMovies","setFavoriteMovies","fetchFavoriteMovies","moviePromises","map","id","movies","Promise","all","handleRemoveFavorite","movieId","prevFavoriteMovies","filter","prevFavoriteMovieId","onRemoveFavorite"],"sources":["/Users/new/Documents/PET-project`s/movie-search-app-personal-project-v1.0/src/pages/Favorites/Favorites.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { getMovieById } from 'services/getMovies';\n\nimport { removeFromFavorites } from 'store/favorites/favorites.slices/favoritesSlice';\n// import { getFavorites } from 'store/favorites/favorites.operations/favoriteMoviesStorage';\nimport { useSelectFavoriteMovies } from 'store/favorites/favorites.selectors/favoritesSelectors';\n\nconst Favorites = () => {\n  const favoriteMovieIds = useSelectFavoriteMovies();\n\n  const [favoriteMovies, setFavoriteMovies] = useState([]);\n\n  useEffect(() => {\n    const fetchFavoriteMovies = async () => {\n      // const favoriteIds = getFavorites();\n      // const favoriteIds = useSelectFavoriteMovies()\n      const moviePromises = favoriteMovieIds.map(id => getMovieById(id));\n      const movies = await Promise.all(moviePromises);\n      setFavoriteMovies(movies);\n    };\n\n    fetchFavoriteMovies();\n  }, [favoriteMovieIds]);\n\n  const handleRemoveFavorite = movieId => {\n    removeFromFavorites(movieId);\n    setFavoriteMovies(prevFavoriteMovies =>\n      prevFavoriteMovies.filter(\n        prevFavoriteMovieId => prevFavoriteMovieId !== movieId\n      )\n    );\n  };\n\n  return (\n    <MovieList\n      movies={favoriteMovies}\n      onRemoveFavorite={handleRemoveFavorite}\n    />\n  );\n};\n\nexport default Favorites;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,gCAAgC,CAC1D,OAASC,YAAY,KAAQ,oBAAoB,CAEjD,OAASC,mBAAmB,KAAQ,iDAAiD,CACrF;AACA,OAASC,uBAAuB,KAAQ,wDAAwD,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjG,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAAC,gBAAgB,CAAGJ,uBAAuB,CAAC,CAAC,CAElD,KAAM,CAACK,cAAc,CAAEC,iBAAiB,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAExDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC;AACA;AACA,KAAM,CAAAC,aAAa,CAAGJ,gBAAgB,CAACK,GAAG,CAACC,EAAE,EAAIZ,YAAY,CAACY,EAAE,CAAC,CAAC,CAClE,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAACL,aAAa,CAAC,CAC/CF,iBAAiB,CAACK,MAAM,CAAC,CAC3B,CAAC,CAEDJ,mBAAmB,CAAC,CAAC,CACvB,CAAC,CAAE,CAACH,gBAAgB,CAAC,CAAC,CAEtB,KAAM,CAAAU,oBAAoB,CAAGC,OAAO,EAAI,CACtChB,mBAAmB,CAACgB,OAAO,CAAC,CAC5BT,iBAAiB,CAACU,kBAAkB,EAClCA,kBAAkB,CAACC,MAAM,CACvBC,mBAAmB,EAAIA,mBAAmB,GAAKH,OACjD,CACF,CAAC,CACH,CAAC,CAED,mBACEb,IAAA,CAACL,SAAS,EACRc,MAAM,CAAEN,cAAe,CACvBc,gBAAgB,CAAEL,oBAAqB,CACxC,CAAC,CAEN,CAAC,CAED,cAAe,CAAAX,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}